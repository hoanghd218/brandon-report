import { useEffect, useState } from 'react';
import { Button } from 'antd';

import { getModelScoreAndMissingData } from '../../../api/animationApi';
import { useForgeStore } from '../../../store/forgeStore';
type ScoreProps = {
  projectId: string;
  modelId: string;
};

export default function AiScoreDialog(props: ScoreProps) {
  const [score, setScore] = useState<any>({});
  const [displayScoreDialog, setDisplayScoreDialog] = useState(false);
  const { intRunAICheckScore, setScoreData } = useForgeStore();

  useEffect(() => {
    if (intRunAICheckScore > 0) {
      getModelScoreAndMissingData(props.projectId, props.modelId).then(
        (res) => {
          console.log('res', res);
          setScoreData(res.data);

          setDisplayScoreDialog(true);
        }
      );
    }
  }, [intRunAICheckScore]);

  getModelScoreAndMissingData(props.projectId, props.modelId).then((res) => {
    // forgeStore.scoreData = res.data;
  });

  return (
    <div className='flex flex-col justify-center items-center'>
      <div className='col-span-1 inline-flex bg-light-blue p-3 my-2'>
        <img
          src='data:image/png;base64,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'
          className='max-w-[70px]'
        />
      </div>
      <div className='col-span-3 bottom-0 my-3'>
        <p className='text-center text-lg font-bold'>
          “Your model is only “{score.Score} % '' complete. It is missing
          important information like, Levels, Assembly codes, Location_lines and
          Functions. Would you like our A.I engine to fill this data for you?
        </p>
      </div>
      <div className='mb-4'>
        <Button
          size='large'
          className='font-bold bg-theme-gradient button-pad min-w-[100px] mr-2 bg-[#2f84c4] text-[#fff] '
        >
          Yes
        </Button>
        <Button
          size='large'
          className='font-bold p-button-text button-pad text-[#2f84c4]'
        >
          No,Complete the data
        </Button>
      </div>
    </div>
  );
}
